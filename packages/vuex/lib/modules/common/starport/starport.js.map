{"version":3,"sources":["../../../../src/modules/common/starport/starport.js"],"names":["process","env","VUE_APP_CUSTOM_URL","VUE_APP_API_COSMOS","VUE_APP_API_TENDERMINT","VUE_APP_WS_TENDERMINT","VUE_APP_ADDRESS_PREFIX","GITPOD","URL","apiNode","protocol","hostname","replace","rpcNode","addrPrefix","wsNode","namespaced","state","_timer","starportUrl","frontendUrl","backend","node_js","vue_app_custom_url","running","frontend","rpc","api","prevStates","getters","backendEnv","backendRunningStates","wasAppRestarted","status","is_consensus_engine_alive","is_my_app_backend_alive","mutations","SET_STARPORT_ENV","SET_BACKEND_RUNNING_STATES","SET_BACKEND_ENV","SET_PREV_STATES","is_my_app_frontend_alive","SET_TIMER","timer","CLEAR_TIMER","clearInterval","actions","setStatusState","commit","dispatch","rootGetters","axios","get","data","addrs","app_frontend","chainId","chain_id","sdkVersion","sdk_version","app_backend","consensus_engine","getTXApi","root","window","location","reload","SpVuexError","init","setInterval","console","error","log"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport SpVuexError from '../../../errors/SpVuexError'\n\nconst {\n\tVUE_APP_CUSTOM_URL,\n\tVUE_APP_API_COSMOS,\n\tVUE_APP_API_TENDERMINT,\n\tVUE_APP_WS_TENDERMINT,\n\tVUE_APP_ADDRESS_PREFIX\n} = process.env\n\nconst GITPOD =\n\tprocess.env.VUE_APP_CUSTOM_URL && new URL(process.env.VUE_APP_CUSTOM_URL)\nconst apiNode =\n\t(GITPOD && `${GITPOD.protocol}//1317-${GITPOD.hostname}`) ||\n\t(process.env.VUE_APP_API_COSMOS &&\n\t\tprocess.env.VUE_APP_API_COSMOS.replace('0.0.0.0', 'localhost')) ||\n\t'http://localhost:1317'\nconst rpcNode =\n\t(GITPOD && `${GITPOD.protocol}//26657-${GITPOD.hostname}`) ||\n\t(process.env.VUE_APP_API_TENDERMINT &&\n\t\tprocess.env.VUE_APP_API_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t'http://localhost:26657'\nconst addrPrefix = process.env.VUE_APP_ADDRESS_PREFIX || 'cosmos'\nconst wsNode =\n\t(GITPOD && `wss://26657-${GITPOD.hostname}/websocket`) ||\n\t(process.env.VUE_APP_WS_TENDERMINT &&\n\t\tprocess.env.VUE_APP_WS_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t'ws://localhost:26657/websocket'\n\nexport default {\n\tnamespaced: true,\n\tstate() {\n\t\treturn {\n\t\t\t_timer: null,\n\t\t\tstarportUrl: VUE_APP_CUSTOM_URL ? '' : 'http://localhost:12345',\n\t\t\tfrontendUrl: '',\n\t\t\tbackend: {\n\t\t\t\tenv: {\n\t\t\t\t\tnode_js: false,\n\t\t\t\t\tvue_app_custom_url: process.env.VUE_APP_CUSTOM_URL\n\t\t\t\t},\n\t\t\t\trunning: {\n\t\t\t\t\tfrontend: false,\n\t\t\t\t\trpc: false,\n\t\t\t\t\tapi: false\n\t\t\t\t},\n\t\t\t\tprevStates: {\n\t\t\t\t\tfrontend: null,\n\t\t\t\t\trpc: null,\n\t\t\t\t\tapi: null\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetters: {\n\t\tbackendEnv: (state) => state.backend.env,\n\t\tfrontendUrl: (state) => state.frontendUrl,\n\t\tbackendRunningStates: (state) => state.backend.running,\n\t\twasAppRestarted: (state) => (status) => {\n\t\t\treturn (\n\t\t\t\tstate.backend.prevStates.rpc !== null &&\n\t\t\t\tstate.backend.prevStates.api !== null &&\n\t\t\t\t!state.backend.prevStates.rpc &&\n\t\t\t\t!state.backend.prevStates.api &&\n\t\t\t\tstatus.is_consensus_engine_alive &&\n\t\t\t\tstatus.is_my_app_backend_alive\n\t\t\t)\n\t\t}\n\t},\n\tmutations: {\n\t\tSET_STARPORT_ENV(state, { starportUrl, frontendUrl }) {\n\t\t\tstate.starportUrl = starportUrl\n\t\t\tstate.frontendUrl = frontendUrl\n\t\t},\n\t\tSET_BACKEND_RUNNING_STATES(state, { frontend, rpc, api }) {\n\t\t\tstate.backend.running = {\n\t\t\t\tfrontend,\n\t\t\t\trpc,\n\t\t\t\tapi\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t *\n\t\t * @param {object} state\n\t\t * @param {object} env\n\t\t * @param {boolean} states.node_js\n\t\t * @param {string} states.vue_app_custom_url\n\t\t *\n\t\t *\n\t\t */\n\t\tSET_BACKEND_ENV(state, { node_js, vue_app_custom_url }) {\n\t\t\tstate.backend.env = {\n\t\t\t\tnode_js,\n\t\t\t\tvue_app_custom_url\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t *\n\t\t * @param {object} state\n\t\t * @param {object} payload\n\t\t * @param {object} payload.status\n\t\t *\n\t\t *\n\t\t */\n\t\tSET_PREV_STATES(state, { status }) {\n\t\t\tstate.backend.prevStates = {\n\t\t\t\tfrontend: status ? status.is_my_app_frontend_alive : false,\n\t\t\t\trpc: status ? status.is_consensus_engine_alive : false,\n\t\t\t\tapi: status ? status.is_my_app_backend_alive : false\n\t\t\t}\n\t\t},\n\t\tSET_TIMER(state, { timer }) {\n\t\t\tstate._timer = timer\n\t\t},\n\t\tCLEAR_TIMER(state) {\n\t\t\tclearInterval(state._timer)\n\t\t}\n\t},\n\tactions: {\n\t\tasync setStatusState({ state, getters, commit, dispatch, rootGetters }) {\n\t\t\ttry {\n\t\t\t\tconst { data } = await axios.get(`${state.starportUrl}/status`)\n\t\t\t\tconst { status, env, addrs} = data\n\n\t\t\t\tconst GITPOD = env.vue_app_custom_url && new URL(env.vue_app_custom_url)\n\n\t\t\t\tconst starportUrl = state.starportUrl ||\n\t\t\t\t\t(GITPOD && `${GITPOD.protocol}//12345-${GITPOD.hostname}`) ||\n\t\t\t\t\t'http://localhost:12345'\n\n\t\t\t\tconst frontendUrl = addrs.app_frontend ||\n\t\t\t\t\t(GITPOD && `${GITPOD.protocol}//8080-${GITPOD.hostname}`) ||\n\t\t\t\t\t'http://localhost:8080'\n\n\t\t\t\tcommit('SET_STARPORT_ENV', {\n\t\t\t\t\tstarportUrl,\n\t\t\t\t\tfrontendUrl\n\t\t\t\t})\n\n\t\t\t\tconst chainId = env.chain_id\n\t\t\t\tconst sdkVersion = status.sdk_version\n\t\t\t\tconst apiNode = addrs.app_backend ||\n\t\t\t\t\t(VUE_APP_API_COSMOS &&\n\t\t\t\t\t\tVUE_APP_API_COSMOS.replace('0.0.0.0', 'localhost')) ||\n\t\t\t\t\t(GITPOD && `${GITPOD.protocol}//1317-${GITPOD.hostname}`) ||\n\t\t\t\t\t'http://localhost:1317'\n\n\t\t\t\tconst rpcNode = addrs.consensus_engine ||\n\t\t\t\t\t(VUE_APP_API_TENDERMINT &&\n\t\t\t\t\t\tVUE_APP_API_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t\t\t\t\t(GITPOD && `${GITPOD.protocol}//26657-${GITPOD.hostname}`) ||\n\t\t\t\t\t'http://localhost:26657'\n\n\t\t\t\tconst wsNode = addrs.consensus_engine.replace('http','ws')+'/websocket' ||\n\t\t\t\t\t(VUE_APP_WS_TENDERMINT &&\n\t\t\t\t\t\tVUE_APP_WS_TENDERMINT.replace('0.0.0.0', 'localhost')) ||\n\t\t\t\t\t(GITPOD && `wss://26657-${GITPOD.hostname}/websocket`) ||\n\t\t\t\t\t'ws://localhost:26657/websocket'\n\n\t\t\t\tconst addrPrefix = VUE_APP_ADDRESS_PREFIX || 'cosmos'\n\n\t\t\t\tconst getTXApi =\n\t\t\t\t\trootGetters['common/env/sdkVersion'] === 'Stargate'\n\t\t\t\t\t\t? dispatch(\n\t\t\t\t\t\t\t\t'common/env/setTxAPI',\n\t\t\t\t\t\t\t\trootGetters['common/env/apiTendermint'] + '/tx?hash=0x',\n\t\t\t\t\t\t\t\t{ root: true }\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: dispatch(\n\t\t\t\t\t\t\t\t'common/env/setTxAPI',\n\t\t\t\t\t\t\t\trootGetters['common/env/apiCosmos'] + '/txs/',\n\t\t\t\t\t\t\t\t{ root: true }\n\t\t\t\t\t\t  )\n\n\t\t\t\tdispatch(\n\t\t\t\t\t'common/env/config',\n\t\t\t\t\t{\n\t\t\t\t\t\tchainId,\n\t\t\t\t\t\tsdkVersion,\n\t\t\t\t\t\tapiNode,\n\t\t\t\t\t\trpcNode,\n\t\t\t\t\t\twsNode,\n\t\t\t\t\t\taddrPrefix,\n\t\t\t\t\t\tgetTXApi\n\t\t\t\t\t},\n\t\t\t\t\t{ root: true }\n\t\t\t\t)\n\n\t\t\t\tcommit('SET_BACKEND_RUNNING_STATES', {\n\t\t\t\t\tfrontend: status.is_my_app_frontend_alive,\n\t\t\t\t\trpc: status.is_consensus_engine_alive,\n\t\t\t\t\tapi: status.is_my_app_backend_alive\n\t\t\t\t})\n\t\t\t\tcommit('SET_BACKEND_ENV', {\n\t\t\t\t\tnode_js: env.node_js,\n\t\t\t\t\tvue_app_custom_url: env.vue_app_custom_url\n\t\t\t\t})\n\n\t\t\t\t/**\n         *\n         // If backend was down, but alive now,\n         // it indicates the app is restarting.\n         // Forcing browser to reload in this case to reset blockchain data.\n         *\n         */\n\t\t\t\tif (getters.wasAppRestarted(status)) {\n\t\t\t\t\twindow.location.reload(false)\n\t\t\t\t}\n\t\t\t\tcommit('SET_PREV_STATES', { status })\n\t\t\t} catch (error) {\t\t\t\t\n\t\t\t\tcommit('SET_BACKEND_RUNNING_STATES', {\n\t\t\t\t\tfrontend: false,\n\t\t\t\t\trpc: false,\n\t\t\t\t\tapi: false\n\t\t\t\t})\n\n\t\t\t\tcommit('SET_PREV_STATES', { status: null })\n\n\t\t\t\tthrow new SpVuexError(\n\t\t\t\t\t'Starport:Status',\n\t\t\t\t\t'Could not set status from starport'\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\tasync init({ commit, dispatch }, { starportUrl = 'http://localhost:12345' }) {\n\t\t\t/*\n      *\n      // Fetch backend status regularly\n      *\n      */\n\t\t\tcommit('SET_TIMER', {\n\t\t\t\ttimer: setInterval(async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait dispatch('setStatusState')\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error(e)\n\t\t\t\t\t}\n\t\t\t\t}, 5000)\n\t\t\t})\n\n\t\t\tcommit('SET_STARPORT_ENV', {\n\t\t\t\tstarportUrl\n\t\t\t})\n\t\t\tawait dispatch(\n\t\t\t\t'setStatusState')\n\t\t\t\n\t\t\tconsole.log('Vuex nodule: common.starport initialized!')\n\t\t}\n\t}\n}\n"],"file":"starport.js"}